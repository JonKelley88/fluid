/*!
 * 
 * fluid - v1.0.0 - 2018-11-15
 * https://github.com/immutabl3/fluid#readme
 * Copyright (c) 2018 Immutable, LLC License: ISC
 * 				
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("signal-js")):"function"==typeof define&&define.amd?define(["signal-js"],e):"object"==typeof exports?exports.fluid=e(require("signal-js")):t.fluid=e(t["signal-js"])}(window,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=function(t,e,n,r,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i};function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}var c={frequency:300,friction:200},s={},f={friction:500},l={friction:500},h={friction:500},p={bounciness:400,elasticity:200},v={bounciness:400,elasticity:200},b={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},y={bezier:Object.assign(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).points,e=function(){var e=[],n=function(t,n){return e.push(function(e){return function(t,e,n,r,i){return{x:o(t,e.x,n.x,r.x,i.x),y:o(t,e.y,n.y,r.y,i.y)}}(e,t,t.cp[t.cp.length-1],n.cp[0],n)})};for(var r in t){var i=parseInt(r,10);if(i>=t.length-1)break;n(t[i],t[i+1])}return e}();return Object.assign(function(t){return 0===t?0:1===t?1:function(t,e,n){var r=e.find(function(e){return t>=e(0).x&&t<=e(1).x});if(!r)return n?0:1;for(var i=0,o=1,a=(o+i)/2,u=r(a).x,c=100;Math.abs(t-u)>1e-4&&c>0;)t>u?i=a:o=a,u=r(a=(o+i)/2).x,c-=1;return r(a).y}(t,e,this.returnsToSelf)},{returnsToSelf:0===t[t.length-1].y})},{type:"bezier"}),bounce:Object.assign(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u({},c,t),n=Math.max(1,e.frequency/20),r=Math.pow(20,e.friction/100);return Object.assign(function(t){var e=function(t){return Math.pow(r/10,-t)*(1-t)}(t),i=n*t*1-1.57;return e*Math.cos(i)},{returnsToSelf:!0})},{defaults:c,type:"bounce"}),easeIn:Object.assign(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).friction,e=void 0===t?f.friction:t;return s.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},{defaults:f,type:"easeIn"}),easeInOut:Object.assign(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).friction,e=void 0===t?l.friction:t;return s.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},{defaults:l,type:"easeInOut"}),easeOut:Object.assign(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).friction,e=void 0===t?h.friction:t;return s.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},{defaults:h,type:"easeOut"}),forceWithGravity:Object.assign(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.gravity(u({},p,t,{returnsToSelf:!0}))},{defaults:p,type:"forceWithGravity"}),gravity:Object.assign(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u({},v,t),n=Math.min(e.bounciness/1250,.8),r=e.elasticity/1e3,i=[],o=function(){var t=Math.sqrt(.02),r={a:-t,b:t,H:1};for(e.returnsToSelf&&(r.a=0,r.b=2*r.b);r.H>.001;){var i=r.b-r.a;r.a=r.b,r.b=r.b+i*n,r.H=r.H*n*n}return r.b}(),a=Math.sqrt(2/(100*o*o)),c={a:-a,b:a,H:1};e.returnsToSelf&&(c.a=0,c.b=2*c.b),i.push(c);for(var s=o;c.b<1&&c.H>.001;)s=c.b-c.a,c={a:c.b,b:c.b+s*n,H:c.H*r},i.push(c);return Object.assign(function(t){for(var n=0,r=i[n];!(t>=r.a&&t<=r.b)&&(r=i[n+=1]););return r?function(t,n,r,i){var a=2/(o=n-t)*i-1-2*t/o,u=a*a*r-r+1;return e.returnsToSelf&&(u=1-u),u}(r.a,r.b,r.H,t):e.returnsToSelf?0:1},{returnsToSelf:e.returnsToSelf})},{defaults:v,type:"gravity"}),spring:Object.assign(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u({},b,t),n=Math.max(1,e.frequency/20),r=Math.pow(20,e.friction/100),i=e.anticipationSize/1e3,o=function(t){var n=i/(1-i),r=(n-0)/(n-0);return(.8-r)/n*t*e.anticipationStrength/100+r},a=function(t){return Math.pow(r/10,-t)*(1-t)};return function(t){var e,r,u,c=t/(1-i)-i/(1-i);if(t<i){var s=i/(1-i)-i/(1-i),f=0/(1-i)-i/(1-i);u=Math.acos(1/o(s)),r=(Math.acos(1/o(f))-u)/(n*-i),e=o}else e=a,u=0,r=1;var l=e(c),h=n*(t-i)*r+u;return 1-l*Math.cos(h)}},{defaults:b,type:"spring"}),linear:Object.assign(function(){return function(t){return t}},{type:"linear"})};function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var x=function(t){return void 0!==t},j=function(t){return A(t)||t},w=function(){function t(e){g(this,t),this.values=e}return m(t,[{key:"interpolate",value:function(e,n){for(var r=this.values,i=e.values,o=[],a=0,u=0,c=Math.min(r.length,i.length);0<=c?u<c:u>c;a=0<=c?++u:--u)r[a].interpolate?o.push(r[a].interpolate(i[a],n)):o.push(r[a]);return new t(o)}},{key:"format",value:function(){return this.values.map(function(t){return t.format?t.format():t})}}]),t}();a(w,"create",function(t){if(Array.isArray(t))return new w(t.map(j).filter(x))});var O=function(){function t(e){g(this,t),this.obj=e}return m(t,[{key:"interpolate",value:function(e,n){var r=this.obj,i=e.obj,o={};for(var a in r){var u=r[a];o[a]=u.interpolate?u.interpolate(i[a],n):u}return new t(o)}},{key:"format",value:function(){return this.obj}}]),t}();function M(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}a(O,"create",function(t){if(t instanceof Object){var e={};for(var n in t){var r=t[n];e[n]=A(r)}return new O(e)}});var S=function(){function t(e){g(this,t),this.value=parseFloat(e)}return m(t,[{key:"interpolate",value:function(e,n){var r=this.value;return new t((e.value-r)*n+r)}},{key:"format",value:function(){return M(this.value,5)}}]),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t){return(P="function"==typeof Symbol&&"symbol"===k(Symbol.iterator)?function(t){return k(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":k(t)})(t)}function T(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e}a(S,"create",function(t){if("number"==typeof t)return new S(t)});var H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;g(this,t),this.rgb=e,this.format=n}return m(t,[{key:"toHex",value:function(){return"#".concat(T(this.rgb.r)).concat(T(this.rgb.g)).concat(T(this.rgb.b))}},{key:"toRgb",value:function(){return"rgb(".concat(this.rgb.r,", ").concat(this.rgb.g,", ").concat(this.rgb.b,")")}},{key:"toRgba",value:function(){return"rgba(".concat(this.rgb.r,", ").concat(this.rgb.g,", ").concat(this.rgb.b,", ").concat(this.rgb.a,")")}}]),t}(),z=function(){function t(e){g(this,t),this.color=e,this.format=this.format.bind(this),this.interpolate=this.interpolate.bind(this)}return m(t,[{key:"interpolate",value:function(e,n){var r=this.color,i=e.color,o=M((i.rgb.a-r.rgb.a)*n+r.rgb.a,5),a=["r","g","b"].reduce(function(t,e){var o=Math.round((i.rgb[e]-r.rgb[e])*n+r.rgb[e]);return t[e]=Math.min(255,Math.max(0,o)),t},{a:Math.min(1,Math.max(0,o))});return new t(new H(a,i.format))}},{key:"format",value:function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0}}]),t}();a(z,"create",function(t){if("string"!==!P(t)){var e=H.fromHex(t)||H.fromRgb(t);return e?new z(e):void 0}});var q=[{re:/(#[a-f\d]{3,6})/gi,create:z.create,parse:function(t){return t}},{re:/(rgba?\([0-9.]*, ?[0-9.]*, ?[0-9.]*(?:, ?[0-9.]*)?\))/gi,create:z.create,parse:function(t){return t}},{re:/([-+]?[\d.]+)/gi,create:S.create,parse:parseFloat}],_=function(t,e){return t.index>e.index?1:-1},I=function(){function t(e){g(this,t),this.parts=e}return m(t,[{key:"interpolate",value:function(e,n){for(var r=this.parts,i=e.parts,o=[],a=0,u=0,c=Math.min(r.length,i.length);0<=c?u<c:u>c;a=0<=c?++u:--u)r[a].interpolate?o.push(r[a].interpolate(i[a],n)):o.push(r[a]);return new t(o)}},{key:"format",value:function(){return this.parts.map(function(t){return t.format?t.format():t}).join("")}}]),t}();a(I,"create",function(t){var e="".concat(t),n=0,r=q.reduce(function(t,n){for(var r,i=n.re,o=n.create,a=n.parse;r=i.exec(e);)t.push({index:r.index,length:r[1].length,interpolable:o(a(r[1]))});return t},[]).sort(_).reduce(function(t,r){return r.index<n?t:(r.index>n&&t.push(e.substring(n,r.index)),t.push(r.interpolable),n=r.index+r.length,t)},[]);return n<e.length&&r.push(e.substring(n)),new I(r)});var R=[O,w,I,S];function A(t){for(var e=R.length;e--;){var n=R[e].create(t);if(n)return n}}var E=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=A(t[n]),e},Object.create(null))},F=new Map,G=new Map,W=0,C={get time(){return W},set time(t){return W=t}},D={start:function(){if(this.playing)return this;this.playing=!0;var t=this.id;return G.has(t)?this:(this.time=void 0,G.set(t,this),this)},stop:function(){if(!this.playing)return this;this.playing=!1;var t=this.id;return F.has(t)&&F.delete(t),G.has(t)&&G.delete(t),this.free()},pause:function(){return this.stop()},resume:function(){if(this.playing)return this;var t=this.id;return G.has(t)?this:(this.time=C.time-(C.time-this.time),G.set(t,this),this)},end:function(){return this.tick(this.time+this.duration),this.stop()},tick:function(t){var e,n=(t-(void 0===this.time?this.time=t:this.time))/this.duration,r=this.curve(n),i=n>=1;if(i)e=this.curve.returnsToSelf?this.startProps:this.endProps;else for(var o in e={},this.startProps){var a=this.startProps[o],u=this.endProps[o];a&&u&&(e[o]=a.interpolate(u,r))}return function(t,e){for(var n in e){var r=e[n];n in t&&(t[n]=r.format?r.format():r)}}(this.props,e),this.emit("update",this.props),i&&(this.playing=!1,this.emit("complete",this.props)),!i}},B=-1,J=function(){return B+=1},K=1,L={toggle:function(){return K=1===K?3:1,this},get slow(){return K},set slow(t){return K=t}},N=[],Q=function(){return N.push(this),this},U=function(t,e,n){var r=N.pop(),o=function(t,e,n){var r=n&&void 0!==n.id?n.id:J(),i=Math.max(0,(n&&void 0!==n.delay?n.delay:0)*L.slow),o=Math.max(0,(n&&void 0!==n.duration?n.duration:1e3)*L.slow),a=n&&void 0!==n.type?n.type:"spring";return{id:r,duration:o,delay:i,time:void 0,props:t,startProps:E(t),endProps:E(e),curve:y[a](n),playing:!0}}(t,e,n);return r?function(t,e){return Object.assign(t.clear(),e)}(r,o):function(t){return Object.assign(i()(),t,D,{free:Q})}(o)},V=function(t,e,n){return F.set(t,{fn:e,start:C.time+n}),t};e.default=Object.assign(s,y,{tick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/60*1e3;C.time+=t,function(){if(F.size){var t=!0,e=!1,n=void 0;try{for(var r,i=F.keys()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=F.get(o);a.start<=C.time&&(a.fn(),F.delete(o))}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}}(),function(){if(G.size){var t=!0,e=!1,n=void 0;try{for(var r,i=G.keys()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=G.get(o);a.tick(C.time)||(a.free(),G.delete(o))}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}}()},setTimeout:function(t,e){var n=J();return V(n,t,e)},clearTimeout:function(t){var e=t&&void 0!==t.id?t.id:t;F.has(e)&&F.delete(e)},animate:function(t,e,n){var r=U(t,e,n),i=r.id,o=r.delay;return o||G.set(i,r),o&&V(i,function(){return G.set(i,r)},o),r},debug:function(){console.log("fluid: debug ".concat(3===L.toggle().slow?"enabled":"disabled"))}})}])});
//# sourceMappingURL=fluid.min.js.map